<html lang=en><script type=module src=recipes.5f47a8a2.js></script><link rel=stylesheet href=barcode-scanner-CS465.988c5e4f.css><header class=navigation>
    <a href=index.html><h1 class=header-title>Barcode Scanner App</h1></a>   
    <ul id="Header List" class=navigationList> 
      <li class=navigationListItem id=1><a href=index.html>Home </a></li>
      <li class=navigationListItem id=2><a href=Ingredients.html>Ingredients </a></li>
      <li class=navigationListItem id=3><a href=recipes.html>Recipes </a></li>
      <li class=navigationListItem id=4><a href=help.html>Help </a></li>
      <li class=navigationListItem>
        <form onsubmit={submitAnswer}>
        <input value>
        <input type=submit value=Search>
        </form>
      </li>
    </ul>
  </header>

<div class=body>
  <h1 class=header-title>Ingredients</h1>
  <section id=user-ingredients>
    <h2>Your Scanned Items</h2>
    <div id=user-ingredients-list>Loading...</div>
  </section>
</div>

<script type=module>import"./recipes.5f47a8a2.js";function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequirea202;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequirea202=o);var i=o.register;i("1ggGL",function(t,n){e(t.exports,"getSettings",function(){return s}),e(t.exports,"setSettings",function(){return l}),e(t.exports,"getHistory",function(){return f}),e(t.exports,"setHistory",function(){return g});var r=o("iU2mB");let i="barcode-scanner/",a="settings",c="history",d=async e=>{try{return[null,await (0,r.get)(e)]}catch(e){return[e,void 0]}},u=async(e,t)=>{try{return await (0,r.set)(e,t),[null]}catch(e){return[e]}},s=async()=>d(i+a),l=async e=>u(i+a,e),f=async()=>d(i+c),g=async e=>{let t=await u(i+c,e);return(async()=>{try{if("undefined"!=typeof window&&window.location){let e=window.location.hostname,t=window.location.protocol;if("localhost"===e||"127.0.0.1"===e||"::1"===e||"file:"===t)return}let t="undefined"!=typeof window&&window.location?`${window.location.origin}/recipes/save-ingredients`:"/recipes/save-ingredients",n=(e||[]).map(e=>"string"==typeof e?e:e.value||e.title||JSON.stringify(e));fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:n})}).catch(()=>{})}catch(e){}})(),t}}),i("iU2mB",function(t,n){var r;function o(e){return new Promise(function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}})}function i(){var e,t,n,i;return r||(e="keyval-store",t="keyval",i=function(){if(n)return n;var r=indexedDB.open(e);return r.onupgradeneeded=function(){return r.result.createObjectStore(t)},(n=o(r)).then(function(e){e.onclose=function(){return n=void 0}},function(){}),n},r=function(e,n){return i().then(function(r){return n(r.transaction(t,e).objectStore(t))})}),r}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();return t("readonly",function(t){return o(t.get(e))})}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return n("readwrite",function(n){return n.put(t,e),o(n.transaction)})}e(t.exports,"get",function(){return a}),e(t.exports,"set",function(){return c})});var a=o("iW3id"),c=o("1ggGL");async function d(){let e=document.getElementById("user-ingredients-list");e.innerHTML="Loading...";try{let t=null;try{t=await (0,a.initAuth)()}catch(e){}t||(t=(0,a.getCurrentUser)());let n=null;if(t&&"function"==typeof t.getIdToken)try{n=await t.getIdToken()}catch(e){console.warn("user.getIdToken failed",e)}if(n||(n=localStorage.getItem("barcode-scanner/idToken")||null),n)try{let e=await fetch("/user/ingredients",{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(e.ok){let t=await e.json();u(t.items||[]);return}console.warn("/user/ingredients returned",e.status)}catch(e){console.error("Fetch /user/ingredients failed",e)}try{let[,e=[]]=await (0,c.getHistory)(),t=localStorage.getItem("barcode-scanner/uid")||null,n=e.map(e=>"string"==typeof e?{title:e,addedAt:e.addedAt}:{title:e.title||e.value||"(unknown)",addedAt:e.addedAt||e.addedAt});t&&(n=n.filter(e=>!e.userId||e.userId===t)),n=n.slice(0,200),u(n);return}catch(e){console.error("Local fallback failed",e)}e.innerHTML="<p>Sign in (in the React UI) to view your scanned items, or enable server-side Firestore.</p>"}catch(e){console.error("Unexpected error",e),document.getElementById("user-ingredients-list").innerHTML="<p>Error loading items.</p>"}}function u(e){let t=document.getElementById("user-ingredients-list");if(t.innerHTML="",!e||0===e.length){t.innerHTML="<p>No scanned items yet.</p>";return}let n=document.createElement("ul");for(let t of e){let e=t.title||t.value||"(unknown)",r=t.addedAt?` \u{2014} ${new Date(t.addedAt).toLocaleString()}`:"",o=document.createElement("li");o.textContent=`${e}${r}`,n.appendChild(o)}t.appendChild(n)}document.addEventListener("DOMContentLoaded",d);</script>

  <footer class="bottomnav navigation">
    <ul id="Navigation Footer List" class=navigationList> 
      <li class=navigationListItem id=1><a href=about.html>About </a></li>
      <li class=navigationListItem id=2><a href=faq.html>FAQ </a></li>
      <li class=navigationListItem id=3><a href=contact.html>Contact </a></li>
    </ul>
</footer>

