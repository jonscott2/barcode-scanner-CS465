<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800" width="1200" height="800">
  <defs>
    <linearGradient id="userGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7ED957;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#52B788;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2D5016;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4A702C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FFC107;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FFD93D;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#52B788;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7ED957;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2D5016" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2D5016">Sifts - System Architecture &amp; Data Flow</text>
  
  <!-- User Layer -->
  <rect x="50" y="60" width="200" height="120" rx="10" fill="url(#userGrad)" stroke="#2D5016" stroke-width="2"/>
  <text x="150" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üë§ User</text>
  <text x="150" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">‚Ä¢ Scan Barcodes</text>
  <text x="150" y="135" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">‚Ä¢ View Inventory</text>
  <text x="150" y="155" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">‚Ä¢ Get Recipes</text>
  
  <!-- Frontend Layer -->
  <rect x="300" y="60" width="250" height="200" rx="10" fill="url(#frontendGrad)" stroke="#2D5016" stroke-width="2"/>
  <text x="425" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Frontend (React.js)</text>
  
  <rect x="320" y="100" width="210" height="40" rx="5" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
  <text x="425" y="120" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Scanner Component</text>
  <text x="425" y="135" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Barcode Detection API</text>
  
  <rect x="320" y="150" width="210" height="40" rx="5" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
  <text x="425" y="170" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Ingredients Page</text>
  <text x="425" y="185" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Expiration Tracking</text>
  
  <rect x="320" y="200" width="210" height="40" rx="5" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1"/>
  <text x="425" y="220" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="white">Recipes Page</text>
  <text x="425" y="235" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white">Recipe Generator</text>
  
  <!-- Backend Proxy Layer -->
  <rect x="600" y="60" width="200" height="200" rx="10" fill="#FFC107" stroke="#2D5016" stroke-width="2"/>
  <text x="700" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2D5016">‚öôÔ∏è Backend Proxy</text>
  <text x="700" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2D5016">(Express.js)</text>
  
  <rect x="620" y="130" width="160" height="50" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="700" y="150" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">UPC Proxy Server</text>
  <text x="700" y="165" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">Port: 8787</text>
  <text x="700" y="180" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">CORS Handler</text>
  
  <rect x="620" y="190" width="160" height="50" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="700" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">Recipe API Server</text>
  <text x="700" y="225" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">Port: 8788</text>
  <text x="700" y="240" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">Spoonacular API</text>
  
  <!-- External APIs -->
  <rect x="850" y="60" width="300" height="200" rx="10" fill="url(#apiGrad)" stroke="#2D5016" stroke-width="2"/>
  <text x="1000" y="90" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2D5016">üåê External APIs</text>
  
  <rect x="870" y="100" width="260" height="35" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="1000" y="120" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">UPC Database API</text>
  <text x="1000" y="135" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">Product Information</text>
  
  <rect x="870" y="145" width="260" height="35" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="1000" y="165" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">Open Food Facts</text>
  <text x="1000" y="180" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">Food Product Data</text>
  
  <rect x="870" y="190" width="260" height="35" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="1000" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">Spoonacular API</text>
  <text x="1000" y="225" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#2D5016">Recipe Generation</text>
  
  <!-- Database Layer -->
  <rect x="300" y="320" width="250" height="120" rx="10" fill="url(#dbGrad)" stroke="#2D5016" stroke-width="2"/>
  <text x="425" y="350" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2D5016">üíæ Storage</text>
  
  <rect x="320" y="360" width="210" height="30" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="425" y="380" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">Firebase Firestore</text>
  
  <rect x="320" y="400" width="210" height="30" rx="5" fill="rgba(45,80,22,0.1)" stroke="#2D5016" stroke-width="1"/>
  <text x="425" y="420" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#2D5016">Local Storage (Fallback)</text>
  
  <!-- Firebase Auth -->
  <rect x="600" y="320" width="200" height="120" rx="10" fill="#FFC107" stroke="#2D5016" stroke-width="2"/>
  <text x="700" y="350" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2D5016">üîê Firebase Auth</text>
  <text x="700" y="375" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2D5016">‚Ä¢ Email/Password</text>
  <text x="700" y="395" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2D5016">‚Ä¢ Anonymous Login</text>
  <text x="700" y="415" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#2D5016">‚Ä¢ Session Management</text>
  
  <!-- Data Flow Arrows -->
  <!-- User to Frontend -->
  <line x1="250" y1="120" x2="300" y2="160" stroke="#2D5016" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="270" y="135" font-family="Arial, sans-serif" font-size="10" fill="#2D5016">Interacts</text>
  
  <!-- Frontend to Backend -->
  <line x1="550" y1="160" x2="600" y2="160" stroke="#2D5016" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="570" y="155" font-family="Arial, sans-serif" font-size="10" fill="#2D5016">API Request</text>
  
  <!-- Backend to External APIs -->
  <line x1="800" y1="160" x2="850" y2="160" stroke="#2D5016" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="820" y="155" font-family="Arial, sans-serif" font-size="10" fill="#2D5016">Fetch Data</text>
  
  <!-- External APIs to Backend (Response) -->
  <line x1="850" y1="180" x2="800" y2="180" stroke="#52B788" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="820" y="175" font-family="Arial, sans-serif" font-size="9" fill="#52B788">Response</text>
  
  <!-- Backend to Frontend (Response) -->
  <line x1="600" y1="200" x2="550" y2="200" stroke="#52B788" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="570" y="195" font-family="Arial, sans-serif" font-size="9" fill="#52B788">Data</text>
  
  <!-- Frontend to Storage -->
  <line x1="425" y1="260" x2="425" y2="320" stroke="#2D5016" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="435" y="290" font-family="Arial, sans-serif" font-size="10" fill="#2D5016">Save Scan</text>
  
  <!-- Frontend to Firebase Auth -->
  <line x1="550" y1="200" x2="600" y2="380" stroke="#2D5016" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="580" y="290" font-family="Arial, sans-serif" font-size="9" fill="#2D5016">Authenticate</text>
  
  <!-- Storage to Frontend (Read) -->
  <line x1="425" y1="440" x2="425" y2="260" stroke="#52B788" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
  <text x="435" y="350" font-family="Arial, sans-serif" font-size="9" fill="#52B788">Load Data</text>
  
  <!-- Flow Labels Section -->
  <rect x="50" y="500" width="1100" height="280" rx="10" fill="#f8f9fa" stroke="#2D5016" stroke-width="2"/>
  <text x="600" y="530" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#2D5016">How It Works - Step by Step</text>
  
  <!-- Step 1 -->
  <rect x="80" y="550" width="240" height="210" rx="5" fill="white" stroke="#7ED957" stroke-width="2"/>
  <text x="200" y="575" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2D5016">1. Scan Barcode</text>
  <text x="90" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ User scans barcode with</text>
  <text x="90" y="615" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  camera or uploads image</text>
  <text x="90" y="640" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Browser Barcode Detection</text>
  <text x="90" y="655" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  API extracts barcode value</text>
  <text x="90" y="680" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Frontend sends barcode to</text>
  <text x="90" y="695" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  backend proxy server</text>
  <text x="90" y="720" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Backend queries UPC API</text>
  <text x="90" y="735" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  for product information</text>
  <text x="90" y="750" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Product data returned</text>
  
  <!-- Step 2 -->
  <rect x="360" y="550" width="240" height="210" rx="5" fill="white" stroke="#7ED957" stroke-width="2"/>
  <text x="480" y="575" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2D5016">2. Store &amp; Track</text>
  <text x="370" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Product info displayed</text>
  <text x="370" y="615" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  to user with image</text>
  <text x="370" y="640" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ User sets expiration date</text>
  <text x="370" y="655" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  (optional)</text>
  <text x="370" y="680" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Scan saved to Firebase</text>
  <text x="370" y="695" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  Firestore (cloud storage)</text>
  <text x="370" y="720" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Falls back to local</text>
  <text x="370" y="735" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  storage if offline</text>
  <text x="370" y="750" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Auto-syncs when online</text>
  
  <!-- Step 3 -->
  <rect x="640" y="550" width="240" height="210" rx="5" fill="white" stroke="#7ED957" stroke-width="2"/>
  <text x="760" y="575" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2D5016">3. Manage Inventory</text>
  <text x="650" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ View all scanned items</text>
  <text x="650" y="615" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  on Ingredients page</text>
  <text x="650" y="640" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ See expiration countdown</text>
  <text x="650" y="655" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  with color-coded badges</text>
  <text x="650" y="680" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Filter by expiration</text>
  <text x="650" y="695" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  status (expiring soon, etc.)</text>
  <text x="650" y="720" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Search and organize</text>
  <text x="650" y="735" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  your food inventory</text>
  <text x="650" y="750" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Track waste reduction</text>
  
  <!-- Step 4 -->
  <rect x="920" y="550" width="240" height="210" rx="5" fill="white" stroke="#7ED957" stroke-width="2"/>
  <text x="1040" y="575" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#2D5016">4. Discover Recipes</text>
  <text x="930" y="600" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Select ingredients from</text>
  <text x="930" y="615" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  your inventory</text>
  <text x="930" y="640" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Recipe API generates</text>
  <text x="930" y="655" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  suggestions (Spoonacular)</text>
  <text x="930" y="680" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ View recipes with</text>
  <text x="930" y="695" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  ingredients &amp; instructions</text>
  <text x="930" y="720" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Generate shopping list</text>
  <text x="930" y="735" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">  for missing ingredients</text>
  <text x="930" y="750" font-family="Arial, sans-serif" font-size="11" fill="#2D5016">‚Ä¢ Reduce food waste!</text>
</svg>


